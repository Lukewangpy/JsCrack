import collections

import matplotlib.pyplot as plt

trace_1 = [[4,0,213],[6,0,222],[7,0,227],[9,0,232],[10,1,236],[11,1,240],[12,1,245],[13,1,249],[14,1,254],[16,1,255],[17,1,257],[18,1,261],[19,1,263],[19,2,265],[20,2,266],[22,2,269],[23,2,271],[24,2,276],[26,2,276],[27,2,278],[28,2,281],[29,2,282],[31,2,285],[32,2,286],[34,2,288],[35,2,291],[37,2,292],[40,2,295],[42,2,297],[44,2,298],[46,2,302],[48,2,303],[49,2,304],[52,2,307],[54,2,309],[56,2,310],[57,2,312],[59,2,318],[62,2,320],[64,2,322],[67,2,326],[69,2,329],[71,2,331],[72,2,333],[73,2,336],[76,2,338],[78,2,341],[80,2,344],[81,2,346],[82,2,347],[84,2,349],[85,2,352],[86,2,353],[87,2,355],[88,2,357],[89,2,359],[90,2,361],[91,2,365],[92,2,368],[93,2,369],[95,2,374],[96,2,378],[97,2,385],[98,2,388],[99,2,390],[99,1,397],[100,1,399],[101,1,408],[102,1,418],[103,1,424],[104,1,436],[103,0,606],[104,0,1100]]
trace_2 = [[4,1,69],[5,1,88],[6,1,95],[7,2,101],[8,2,110],[10,2,114],[13,2,120],[14,2,124],[16,2,129],[18,2,132],[21,2,136],[22,2,139],[23,2,144],[24,2,146],[26,2,149],[27,2,151],[28,2,156],[29,2,158],[31,2,161],[32,2,162],[34,2,165],[35,2,167],[37,2,171],[38,2,173],[39,2,175],[41,2,177],[42,2,179],[44,2,181],[45,2,182],[47,2,184],[48,2,186],[49,2,188],[51,2,190],[52,2,193],[53,2,194],[54,2,196],[57,2,198],[58,2,200],[59,2,202],[61,2,204],[62,2,206],[65,2,208],[66,1,211],[68,1,212],[69,1,214],[72,1,216],[73,1,218],[75,1,220],[77,1,222],[78,1,224],[81,1,227],[82,1,228],[84,1,230],[85,1,232],[87,1,234],[89,1,236],[90,1,238],[91,1,240],[93,1,243],[95,1,244],[96,0,246],[97,-1,248],[100,-1,250],[101,-1,252],[102,-1,254],[103,-1,256],[105,-1,258],[106,-1,261],[108,-1,264],[109,-1,269],[110,-1,273],[111,-1,278],[112,-2,285],[113,-2,291],[114,-2,293],[115,-2,296],[116,-2,300],[117,-2,302],[118,-2,304],[120,-2,308],[121,-2,312],[123,-2,316],[124,-2,320],[125,-2,322],[126,-2,324],[127,-2,327],[128,-2,329],[129,-2,330],[130,-2,332],[131,-2,334],[132,-2,336],[133,-2,338],[134,-2,340],[135,-2,343],[137,-2,346],[138,-2,350],[139,-2,352],[140,-2,354],[142,-2,359],[143,-2,362],[144,-2,366],[145,-2,368],[145,-3,370],[147,-3,372],[148,-3,377],[149,-3,380],[150,-3,382],[151,-3,384],[152,-3,388],[154,-3,394],[155,-3,394],[157,-4,399],[159,-4,402],[160,-4,404],[161,-4,406],[162,-4,409],[164,-4,411],[165,-4,412],[167,-5,414],[169,-6,416],[171,-6,418],[173,-6,420],[175,-6,422],[176,-6,424],[178,-6,427],[180,-6,428],[183,-6,430],[185,-6,433],[187,-6,434],[189,-6,436],[191,-6,438],[193,-6,440],[195,-6,443],[197,-6,445],[200,-6,447],[202,-6,448],[204,-7,450],[206,-7,452],[207,-7,454],[209,-7,456],[211,-7,459],[212,-7,461],[213,-7,462],[214,-7,466],[215,-7,470],[214,-8,678],[213,-8,697],[211,-8,703],[210,-8,717],[209,-8,745],[208,-8,754],[206,-8,768],[205,-8,783],[204,-8,804],[203,-8,845],[202,-8,858],[202,-8,862],[201,-8,874],[200,-8,890],[199,-8,893],[199,-9,902],[198,-9,916],[197,-9,930],[196,-9,938],[195,-9,946],[194,-9,952],[193,-9,955],[192,-9,966],[192,-10,974],[191,-10,1013],[190,-10,1024],[189,-10,1029],[188,-10,1032],[187,-10,1045],[186,-10,1048],[184,-10,1053],[183,-10,1061],[182,-10,1071],[182,-10,1260],[183,-10,1312],[185,-9,1324],[186,-9,1344],[187,-9,1374],[188,-8,1394]]
trace_3 = [[4,0,114],[5,0,120],[6,0,123],[8,0,129],[9,0,133],[10,0,135],[11,0,137],[12,0,139],[13,0,142],[14,0,148],[15,0,149],[17,0,153],[18,0,158],[19,0,164],[20,0,165],[21,0,171],[22,0,177],[24,0,183],[25,0,188],[26,0,194],[27,0,198],[28,0,206],[29,0,212],[30,0,220],[31,0,222],[32,0,228],[33,0,237],[34,0,242],[35,0,247],[36,0,251],[37,0,256],[38,1,258],[39,1,262],[41,1,266],[42,1,270],[43,1,274],[45,1,278],[46,1,282],[47,1,287],[48,1,290],[49,1,292],[51,1,303],[52,1,308],[53,1,324],[54,1,336],[56,1,346],[57,1,354],[58,1,364],[59,1,370],[60,1,376],[62,1,380],[63,1,386],[64,1,388],[65,1,390],[66,1,394],[68,1,398],[69,1,403],[70,1,404],[71,1,408],[72,1,410],[74,1,412],[75,1,414],[76,1,416],[77,1,419],[79,1,420],[80,1,424],[82,1,426],[83,1,428],[84,1,430],[85,0,432],[86,0,435],[87,0,436],[89,0,439],[90,0,440],[91,0,442],[93,0,446],[94,0,451],[95,0,453],[96,0,454],[97,0,459],[98,0,463],[99,0,464],[100,0,466],[101,0,469],[102,0,472],[103,0,474],[104,0,478],[105,0,482],[107,0,487],[108,0,490],[109,0,492],[110,0,496],[111,0,498],[111,-1,501],[112,-1,504],[113,-1,506],[114,-1,514],[115,-1,519],[116,-1,522],[117,-1,533],[118,-1,536],[119,-1,544],[120,-1,553],[121,-1,558],[122,-1,561],[123,-1,564],[125,-1,569],[126,-1,572],[127,-1,576],[128,-1,580],[130,-1,586],[131,-1,590],[132,-1,594],[133,-1,599],[134,-1,604],[135,-1,610],[137,-1,617],[138,-1,626],[139,-1,638],[141,-1,647],[142,-1,654],[143,-1,667],[144,-1,692],[146,-1,727],[147,-1,738],[148,-1,748],[149,-1,753],[150,-1,761],[151,0,770],[152,1,773],[153,1,779],[154,1,791],[155,1,798],[156,1,803],[157,1,813],[158,1,823],[159,1,827],[160,1,835],[161,1,843],[162,1,852],[163,1,856],[165,1,863],[166,1,870],[167,1,875],[168,1,882],[169,1,891],[171,1,902],[172,1,908],[173,1,916],[174,1,926],[175,1,936],[176,1,952],[177,1,959],[177,0,961],[178,0,966],[179,0,975],[180,0,996],[181,0,1066],[182,0,1081],[184,0,1088],[185,0,1097],[186,0,1106],[187,0,1115],[188,1,1122],[189,1,1247],[190,1,1263],[191,1,1267],[192,1,1282],[193,2,1297],[194,2,1311],[195,2,1390],[196,2,1402],[198,2,1702]]


def show_paint(trace):
    x = [i[0] for i in trace]
    y = [i[1] + 20 for i in trace]
    # plt.xlim((0, 130))
    plt.ylim((0, 50))
    plt.scatter(x, y, color="y", marker='.')
    plt.show()


def get_interval_arr(trace, arr_type=0):
    _arr = [i[arr_type] for i in trace]
    interval_arr = []
    for i in range(0, len(_arr)-1):
        interval_arr.append(_arr[i+1]-_arr[i])
    return interval_arr


if __name__ == '__main__':
    x1 = collections.Counter(get_interval_arr(trace_1, arr_type=2))
    x2 = collections.Counter(get_interval_arr(trace_2, arr_type=2))
    x3 = collections.Counter(get_interval_arr(trace_3, arr_type=2))
    # print(x1)
    # print(x2)
    # print(x3)
    print(get_interval_arr(trace_3, arr_type=2))